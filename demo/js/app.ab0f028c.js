(function(e){function t(t){for(var o,c,i=t[0],s=t[1],d=t[2],u=0,g=[];u<i.length;u++)c=i[u],Object.prototype.hasOwnProperty.call(a,c)&&a[c]&&g.push(a[c][0]),a[c]=0;for(o in s)Object.prototype.hasOwnProperty.call(s,o)&&(e[o]=s[o]);l&&l(t);while(g.length)g.shift()();return r.push.apply(r,d||[]),n()}function n(){for(var e,t=0;t<r.length;t++){for(var n=r[t],o=!0,i=1;i<n.length;i++){var s=n[i];0!==a[s]&&(o=!1)}o&&(r.splice(t--,1),e=c(c.s=n[0]))}return e}var o={},a={app:0},r=[];function c(t){if(o[t])return o[t].exports;var n=o[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,c),n.l=!0,n.exports}c.m=e,c.c=o,c.d=function(e,t,n){c.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},c.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},c.t=function(e,t){if(1&t&&(e=c(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(c.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)c.d(n,o,function(t){return e[t]}.bind(null,o));return n},c.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return c.d(t,"a",t),t},c.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},c.p="/vcytoscape/demo/";var i=window["webpackJsonp"]=window["webpackJsonp"]||[],s=i.push.bind(i);i.push=t,i=i.slice();for(var d=0;d<i.length;d++)t(i[d]);var l=s;r.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("56d7")},"24dd":function(e,t,n){"use strict";var o=n("9e64"),a=n.n(o);a.a},"31af":function(e,t,n){e.exports=n.p+"img/person.9cb95bf6.svg"},"347b":function(e,t,n){var o=n("abd8");t=o(!1),t.push([e.i,".cytoscape[data-v-777b33e8]{z-index:1}.cytoscape[data-v-777b33e8],.cytoscape--container__loading[data-v-777b33e8],.legend[data-v-777b33e8]{position:absolute;left:0;top:0;bottom:0;right:0}.cytoscape--container__loading[data-v-777b33e8]{z-index:2000;background:#fff}.cytoscape--container__loading .progress-bar[data-v-777b33e8]{top:50%;margin-top:-15px;left:20%;width:60%;text-align:center;position:absolute;overflow:hidden}.cytoscape--container__loading .progress-bar .progress-bar__outer[data-v-777b33e8]{width:100%;border-radius:100px;margin:16px 0;height:10px;background-color:#ebeef5;overflow:hidden;position:relative;vertical-align:middle}.cytoscape--container__loading .progress-bar .progress-bar__outer .progress-bar__inner[data-v-777b33e8]{position:absolute;left:0;top:0;height:100%;background-color:#409eff;text-align:right;border-radius:100px;line-height:1;white-space:nowrap}.cytoscape--container__loading .center[data-v-777b33e8]{top:50%;margin-top:-21px;width:100%;text-align:center;position:absolute}.cytoscape--container__loading .center .circular[data-v-777b33e8]{height:42px;width:42px;-webkit-animation:loading-rotate 2s linear infinite;animation:loading-rotate 2s linear infinite}.cytoscape--container__loading .center .circular .path[data-v-777b33e8]{-webkit-animation:loading-dash 1.5s ease-in-out infinite;animation:loading-dash 1.5s ease-in-out infinite;stroke-dasharray:90,150;stroke-dashoffset:0;stroke-width:2;stroke:#409eff;stroke-linecap:round}",""]),e.exports=t},"4b09":function(e,t,n){e.exports=n.p+"img/clothes.2b623ebd.svg"},"56d7":function(e,t,n){"use strict";n.r(t);n("d9a3"),n("c9db"),n("de3e"),n("618d");var o=n("0261"),a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"cytoscape",attrs:{id:"app"}},[n("vcytoscape",{ref:"cytoscape",staticClass:"cytoscape",attrs:{option:e.option.cytoscape,category:e.option.category,data:e.graphData},on:{mouseover:e.createTippy,ready:e.cytoscapeInit},scopedSlots:e._u([{key:"legend",fn:function(t){return[n("vcytoscape-legend",{attrs:{data:t.data,option:e.option.nodeLegend,category:t.category},model:{value:e.legendNodeModel,callback:function(t){e.legendNodeModel=t},expression:"legendNodeModel"}}),n("vcytoscape-legend",{attrs:{data:t.data,type:"edges",option:e.option.edgeLegend,category:t.category},model:{value:e.legendEdgeModel,callback:function(t){e.legendEdgeModel=t},expression:"legendEdgeModel"}})]}}])}),!e.option.cytoscape.layout.animate&&e.layoutProgress<1?n("div",{staticClass:"cytoscape--container__loading"},[0===e.layoutProgress?n("div",{staticClass:"center"},[n("svg",{staticClass:"circular",attrs:{viewBox:"25 25 50 50"}},[n("circle",{staticClass:"path",attrs:{cx:"50",cy:"50",r:"20",fill:"none"}})]),n("div",{staticClass:"text"},[e._v("正在解析图谱，请稍后...")])]):n("div",{staticClass:"progress-bar"},[n("div",{staticClass:"progress-bar__outer"},[n("div",{staticClass:"progress-bar__inner",style:{width:e.progressText}})]),n("div",{staticClass:"text"},[e._v("正在计算布局，请稍后 "+e._s(e.progressText))])])]):e._e()],1)},r=[],c=(n("7ae7"),n("86dd"),n("af82"),n("a677"),n("4423"),n("3c4a"),n("79dd"),n("3a20"),n("b3f9"),n("7267"),n("3547"),n("d780"),n("9a14"),n("1a8c"),n("c354"),n("f4a0"),["hospital","clothes","computer","person","flower","tree","desk","house","water","cup"]),i=["has","goto","love"],s=["2017","2018","2019"];function d(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:8;return(e||"")+Number(Math.random().toString().substr(3,t)+Date.now()).toString(36)}function l(e){for(var t=[],n=0;n<e;n++){var o=c[Math.floor(Math.random()*c.length)],a={id:d("node_"),group:o,parent:o};a.label=a.group+"-node"+n,t.push({group:"nodes",data:a,id:a.id})}return t}function u(e,t){for(var n=[],o=0;o<t-1;o++){var a=e[o+1].data.id,r=e[Math.floor(Math.sqrt(o))].data.id,c={target:a,source:r,id:d("edge_"),group:i[Math.floor(Math.random()*i.length)],time:s[Math.floor(Math.random()*s.length)]+"-"+Math.ceil(12*Math.random())+"-"+Math.ceil(30*Math.random())};c.label="edge"+o,c.name="edge"+o,n.push({data:c,group:"edges",id:c.id})}return n}function g(e,t){var n=e.map((function(e){return{group:"edges",data:{target:e.data.id,source:t,id:d("edge_"),group:i[Math.floor(Math.random()*i.length)],label:e.data.id+"-"+t,name:e.data.id+"-"+t}}}));return n}function p(e){var t=l(e),n=u(t,e);return t.concat(n)}function f(e,t){var n=l(t),o=g(n,e);return n.concat(o)}p(20);var h=n("ea42"),y=n.n(h),v=n("31af"),b=n.n(v),m=n("bf3e"),k=n.n(m),x=n("4b09"),_=n.n(x),C=n("5803"),I=(n("40a3"),n("8505"),n("96d8"),{name:"cytoscapePage",data:function(){var e=this;return{layoutProgress:0,tooltip:{},option:{nodeLegend:{show:!0,formatter:function(e){var t={hospital:"医院",clothes:"衣服",computer:"电脑",person:"个人"};return Object.keys(t).forEach((function(n){e=e.replace(n,t[n])})),e},orient:"vertical",style:{padding:"10px",top:0,left:0},tagStyle:{borderWidth:"1px",borderStyle:"solid"},inactiveTagStyle:{borderColor:"#ccc"}},edgeLegend:{show:!0,style:{padding:"10px",top:0,right:0},tagStyle:{borderRadius:0,borderWidth:0,borderTopWidth:"2px",height:"0px","line-height":"10px"},inactiveTagStyle:{borderColor:"#ccc",backgroundColor:"none"},formatter:function(e){var t={has:"拥有",love:"喜欢",goto:"去过"};return Object.keys(t).forEach((function(n){e=e.replace(n,t[n])})),e}},cytoscape:{style:[{selector:"node",style:{shape:"round-rectangle"}},{selector:"node:parent",style:{"background-opacity":0,"border-width":0}},{selector:"edge",style:{width:1,"curve-style":"bezier","target-arrow-shape":"vee"}},{selector:"node[label]",style:{label:"data(label)","font-size":"9px",color:"#666","z-index":2}},{selector:"edge[label]",style:{"font-size":"9px",color:"#626867","z-index":1}}],layout:{name:"d3-force",animate:!0,linkId:function(e){return e.id},linkDistance:100,manyBodyStrength:-300,xX:500,yY:500,ready:function(){},stop:function(t){e.layoutProgress=1},tick:function(t){e.layoutProgress=t},randomize:!1,infinite:!0}},contextMenus:{menuItems:[{id:"nextlevel",content:"查询下一级",selector:"node",onClickFunction:function(t){e.addNode(t)},disabled:!1,show:!0,hasTrailingDivider:!1}]},tooltip:{trigger:"mouseenter",content:function(e){var t=e.target;if(t&&t!==e.cy)return t.isEdge()?'<div style="text-align: left"><div>名称： '.concat(t.data("name"),"</div><div>时间： ").concat(t.data("time"),"</div></div>"):t.isNode()?'<div style="text-align: left"><div>id： '.concat(t.data("id"),"</div><div>position： ").concat(t.position("x"),", ").concat(t.position("y"),"</div><div>renderedPosition： ").concat(t.renderedPosition("x"),", ").concat(t.renderedPosition("y"),"</div><div>虚拟位置： ").concat(t.data("x"),", ").concat(t.data("y"),"</div></div>"):void 0},animation:"fade",theme:"light-border"},category:{nodes:{key:"group",styles:{hospital:{"background-image":y.a,"background-width":"80%","background-height":"80%","background-repeat":"no-repeat"},clothes:{"background-image":_.a,"background-width":"80%","background-height":"80%","background-repeat":"no-repeat"},computer:{"background-image":k.a,"background-width":"80%","background-height":"80%","background-repeat":"no-repeat"},person:{"background-image":b.a,"background-width":"80%","background-height":"80%","background-repeat":"no-repeat"}}},edges:[{name:"love",matching:function(e){return"love"===e.group},style:{"source-arrow-shape":"vee","line-style":"dashed","line-color":"#61a0a8",width:1}},{name:"goto",matching:function(e){return"goto"===e.group},style:{"line-style":"dashed","line-color":"#2f4554",width:1}},{name:"has",matching:function(e){return"has"===e.group},style:{"line-style":"dashed","line-color":"#c23531",width:1}}]}},graphData:[],legendNodeFilterId:"",legendEdgeFilterId:"",legendNodeModel:{},legendEdgeModel:{}}},computed:{progressText:function(){return(100*this.layoutProgress).toFixed(1)+"%"}},watch:{legendNodeModel:{handler:function(e){this.legendChange(e,"nodes")},deep:!0},legendEdgeModel:{handler:function(e){this.legendChange(e,"edges")},deep:!0}},methods:{legendChange:function(e,t){var n=this.$refs.cytoscape,o=Object.keys(e).filter((function(t){return!e[t]}));"nodes"===t?o.length?this.legendNodeFilterId=n.filterByFunction((function(e){return e.filter((function(e){return e.isEdge()||e.isNode()&&!o.includes(e.data("group"))}))}),this.legendNodeFilterId,!0):this.legendNodeFilterId&&n.resetFilter(this.legendNodeFilterId,!0):o.length?this.legendEdgeFilterId=n.filterByFunction((function(e){var t=e.filter((function(e){return e.isEdge()&&!o.includes(e.data("group"))}));return e.filter((function(e){return t.contains(e)||t.some((function(t){return t.source()===e||t.target()===e}))}))}),this.legendEdgeFilterId,!0):this.legendEdgeFilterId&&n.resetFilter(this.legendEdgeFilterId,!0)},cytoscapeInit:function(e){e.cy.contextMenus(this.option.contextMenus)},addNode:function(e){e.target.lock();var t=e.target.id(),n=f(t,2);this.graphData=this.graphData.concat(n),e.cy.delay(1e3,(function(){e.target.unlock()}))},createTippy:function(e){var t=this;if(this.option.tooltip){var n=e.target;if(n!==e.cy){var o="[object Function]"===Object.prototype.toString.call(this.option.tooltip.content)?this.option.tooltip.content(e):this.option.tooltip.content,a={content:o};Object.keys(this.option.tooltip).forEach((function(e){"content"!==e&&"selector"!==e&&(a[e]=t.option.tooltip[e])})),this.tooltip[n.id()]?this.tooltip[n.id()].setContent(o):this.tooltip[n.id()]=Object(C["a"])(n.popperRef(),a),setTimeout((function(){C["a"].hideAll(),t.tooltip[n.id()].show()}),10)}}}},mounted:function(){var e=this;setTimeout((function(){e.graphData=p(80)}),100)}}),w=I,O=(n("24dd"),n("623f")),$=Object(O["a"])(w,a,r,!1,null,"777b33e8",null),M=$.exports,j=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"cytoscape--container"},[n("div",{ref:"cytoscapeBox",staticClass:"cytoscape--container__graph"}),e._t("legend",null,{data:e.data,category:e.category})],2)},S=[],E=(n("09ee"),n("5d5d"),n("ce6b"),n("baa4"),n("ef8e"),n("252a"),n("419a"),n("e980")),N=n("0d94"),T=n("d15f"),B=n.n(T),F={_cxttap:function(e){var t=e.target;this.elements().unselect(),t!==this&&this.elements(t).select()},_select:function(e){var t=e.target;if(t!==this){var n=this.elements(":selected"),o=this.collection();o=t.isNode()?n.closedNeighborhood():o.merge(n).merge(n.connectedNodes());var a=this.elements().difference(o);a.removeClass("hover").addClass("unhover"),o.removeClass("unhover").addClass("hover")}},_unselect:function(){this.elements().removeClass("unhover").removeClass("hover")}};function D(e){var t="",n=[];return["select","unselect","cxttap"].forEach((function(o){t?e.on(o,t,F["_".concat(o)]):e.on(o,F["_".concat(o)]),n.push((function(){t?e.off(o,t,F["_".concat(o)]):e.off(o,F["_".concat(o)])}))})),n}var P=D,z=(n("e90c"),n("c1f4"),n("c1b0"),n("3e5e"),n("54d0")),A=function(e){return"[object Object]"===Object.prototype.toString.call(e)},R=function(e){return"[object Array]"===Object.prototype.toString.call(e)},L=function(e){return"[object Function]"===Object.prototype.toString.call(e)},J=function(e){return void 0===e},W=function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"merge",n=arguments.length>1?arguments[1]:void 0,o=arguments.length>2?arguments[2]:void 0;if(A(n)&&A(o))for(var a in o)A(o[a])?(n[a]=A(n[a])?n[a]:{},n[a]=e(t,n[a],o[a])):R(o[a])?(n[a]=R(n[a])?n[a]:[],n[a]=e(t,n[a],o[a])):J(o[a])||(n[a]=o[a]);else R(n)&&R(o)&&("merge"===t?o.forEach((function(a,r){A(a)?(n[r]=A(n[r])?n[r]:{},n[r]=e(t,n[r],a)):R(a)?(n[r]=R(n[r])?n[r]:[],n[r]=e(t,n[r],a)):J(a)||(n[r]=o[r])})):"concat"===t?n=n.concat(o):"findSelector"===t?o.forEach((function(o){var a=n.find((function(e){return e.selector===o.selector}));a?a=e(t,a,o):n.push(o)})):n=o);return n},G=function e(){var t=Array.from(arguments);if(!(t.length<2))return t[1]=W.apply(void 0,Object(z["a"])(t)),t.splice(2,1),t.length>2?e.apply(void 0,Object(z["a"])(t)):2===t.length?t[1]:null},q=function(){var e=Array.from(arguments);return G.apply(void 0,["merge"].concat(Object(z["a"])(e)))},X=function(){var e=Array.from(arguments);return G.apply(void 0,["concat"].concat(Object(z["a"])(e)))},Y=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:8;return(e||"")+Number(Math.random().toString().substr(3,t)+Date.now()).toString(36)},H=/^#([0-9a-fA-f]{3}|[0-9a-fA-f]{6})$/;function K(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=(e||"").toLowerCase();if(n&&H.test(n)){if(4===n.length){for(var o="#",a=1;a<4;a+=1)o+=n.slice(a,a+1).concat(n.slice(a,a+1));n=o}for(var r=[],c=1;c<7;c+=2)r.push(parseInt("0x"+n.slice(c,c+2)));return r.push(t),"rgba("+r.join(",")+")"}if(/^(rgb|RGB)/.test(e)){var i=e.replace(/(?:\(|\)|rgba|RGBA|rgb|RGB)*/g,"").split(","),s=Object(N["a"])(i,3),d=s[0],l=s[1],u=s[2];return"rgba(".concat(d,", ").concat(l,", ").concat(u,", ").concat(t,")")}return e}var Q={"z-index":2},U={"z-index":1},V=["#c23531","#2f4554","#61a0a8","#d48265","#91c7ae","#749f83","#ca8622","#bda29a","#6e7074","#546570","#c4ccd3"],Z={nodes:{key:"category",styles:V.map((function(e){return q({},Q,{"background-color":e,"border-color":e})}))},edges:{key:"category",styles:[JSON.parse(JSON.stringify(U))]}},ee={style:[{selector:":active",style:{"overlay-opacity":0}},{selector:"node",style:JSON.parse(JSON.stringify(Q))},{selector:"edge",style:JSON.parse(JSON.stringify(U))},{selector:".hover",style:{"background-opacity":1,"background-image-opacity":1,"z-index":99}},{selector:"edge.hover",style:{width:2,"z-index":98}},{selector:".unhover",style:{opacity:.3}},{selector:"edge.unhover",style:{width:1,opacity:.3}}]},te={name:"vcytoscape",props:{option:{type:Object,default:function(){return{}}},category:{type:Object,default:function(){return{}}},data:{type:Array,default:function(){return[]}}},data:function(){return{$cytoscapeInstance:null,events:[],cacheRandomIdMap:{},filters:{},$layout:null,$removeData:null}},computed:{nodesCategorys:function(){var e=this,t=Array.from(new Set(this.data.filter((function(e){return"nodes"===e.group})).map((function(t){return e.dataByCategory(t.data,"nodes")})).filter((function(e){return!!e}))));return t},nodesCategoryBy:function(){if(this.category&&this.category.nodes){if(R(this.category.nodes))return this.category.nodes;if(A(this.category.nodes))return this.category.nodes.key}return null},edgesCategorys:function(){var e=this,t=Array.from(new Set(this.data.filter((function(e){return"edges"===e.group})).map((function(t){return e.dataByCategory(t.data,"edges")})).filter((function(e){return!!e}))));return t},edgesCategoryBy:function(){if(this.category&&this.category.edges){if(R(this.category.edges))return this.category.edges;if(A(this.category.edges))return this.category.edges.key}return null},categoryNameToClass:function(){var e=this,t={};return this.nodesCategorys.forEach((function(n){t["nodes_".concat(n)]=e.getCacheRandomId("nodes_".concat(n),"node_class_")})),this.edgesCategorys.forEach((function(n){t["edges_".concat(n)]=e.getCacheRandomId("edges_".concat(n),"edge_class_")})),t},categoryConfig:function(){var e=this,t=[],n={};return this.category&&Object.keys(this.category).forEach((function(o){var a=e.category[o],r=Z[o].styles,c=e["".concat(o,"Categorys")];if(R(a))t=t.concat(a.map((function(t,a){var c=t.name,i=t.style,s=t.status,d=a%r.length;return n[o+"_"+c]=s,{selector:".".concat(e.categoryNameToClass[o+"_"+c]),style:q({},r[d],i)}})));else{var i=a.styles||[],s=a.status||[];if(s){var d=R(s);c.forEach((function(e,t){var a=d?t%s.length:s[e];n[o+"_"+e]=s[a]}))}i&&(R(i)?t=t.concat(c.map((function(t,n){var a=n%i.length,c=n%r.length;return{selector:".".concat(e.categoryNameToClass[o+"_"+t]),style:q({},r[c],i[a])}}))):A(i)&&(t=t.concat(c.map((function(t,n){var a=n%r.length;return{selector:".".concat(e.categoryNameToClass[o+"_"+t]),style:q({},r[a],i[t]||{})}})))))}})),{styles:t,status:n}},cytoscapeOptions:function(){var e=this.layoutName?{layout:{name:this.layoutName}}:{},t=X({},ee,{style:this.categoryConfig.styles},this.option||{},e);return t}},watch:{data:{handler:function(e){this.setData(e)},deep:!0},cytoscapeOptions:{handler:function(e){this.$cytoscapeInstance&&this.setOptions(e)},deep:!0}},methods:{getCacheRandomId:function(e,t,n){return this.cacheRandomIdMap[e]=this.cacheRandomIdMap[e]||Y(t,n),this.cacheRandomIdMap[e]},dataByCategory:function(e,t){if(R(this["".concat(t,"CategoryBy")])){var n=this["".concat(t,"CategoryBy")].find((function(t){return t.matching&&t.matching(e)}));return n?L(n.name)?n.name(e):n.name:void 0}return e[this["".concat(t,"CategoryBy")]]},getDataWithClasses:function(e){var t=this,n=JSON.parse(JSON.stringify(e||[]));return n.map((function(e){var n=t.dataByCategory(e.data,e.group);return e.classes=e.classes||[],q(e,t.categoryConfig.status[e.group+"_"+n]),n&&e.classes.push(t.categoryNameToClass[e.group+"_"+n]),e}))},getAllElements:function(){return this.$cytoscapeInstance&&this.$cytoscapeInstance.elements().merge(this.$removeData||this.$cytoscapeInstance.collection())},setOptions:function(e){var t=this;this.$cytoscapeInstance&&(this.$cytoscapeInstance.startBatch(),Object.keys(e).forEach((function(n){t.$cytoscapeInstance[n]&&t.$cytoscapeInstance[n](e[n])})),this.$cytoscapeInstance.endBatch(),this.reLayout())},setData:function(e){var t=this.getDataWithClasses(e);if(!this.$cytoscapeInstance)return this.createCytoscape(t);this.$cytoscapeInstance.startBatch();var n=this.getAllElements(),o=n.filter((function(e){return!t.some((function(t){return e.id()===t.data.id}))}));this.$cytoscapeInstance.remove(o);var a=[];t.forEach((function(e,t){var o=n.$id(e.data.id);if(o&&o.length)for(var r=Object.keys(e),c=r.length,i=0;i<c;i++){var s=r[i];switch(s){case"data":JSON.stringify(o.data())!==JSON.stringify(e.data)&&o.data(e.data);break;case"selected":e.selected?o.select():o.unselect();break;case"selectable":e.selectable?o.selectify():o.unselectify();break;case"locked":e.locked?o.lock():o.unlock();break;case"grabbable":e.grabbable?o.grabify():o.ungrabify();break;case"pannable":e.pannable?o.panify():o.unpanify();break}}else a.push(e)})),this.$cytoscapeInstance.add(a),this.$cytoscapeInstance.endBatch(),this.renderFilter(),this.reLayout()},createCytoscape:function(e){var t=this,n=q({},this.cytoscapeOptions,{container:this.$refs.cytoscapeBox,elements:e||[]});n.layout={name:"null"},this.$cytoscapeInstance=B()(n),this.events=this.events.concat(P(this.$cytoscapeInstance));for(var o=function(){var e=Object(N["a"])(r[a],2),n=e[0],o=e[1],c=function(e){o(e)};t.$cytoscapeInstance.on(n,c),t.events.push((function(){t.$cytoscapeInstance.off(n,c)}))},a=0,r=Object.entries(this.$listeners);a<r.length;a++)o();this.$cytoscapeInstance.ready(),e&&e.length&&this.reLayout()},reLayout:function(){this.$layout&&this.$layout.stop(),this.$layout=this.$cytoscapeInstance.layout(this.cytoscapeOptions.layout),this.$layout.run()},destroy:function(){var e=this;return Object(E["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e.$layout&&e.$layout.stop(),!e.$cytoscapeInstance){t.next=7;break}return t.next=4,e.events.forEach((function(e){e()}));case 4:return e.events=[],t.next=7,e.$cytoscapeInstance.destroy();case 7:e.filters={},e.$removeData=null;case 9:case"end":return t.stop()}}),t)})))()},resetFilter:function(e,t){e?delete this.filters[e]:this.filters={},this.renderFilter(t)},filterByFunction:function(e,t,n){var o=t||Y("func");return this.filters[o]=e,this.renderFilter(n),o},renderFilter:function(e){var t=this;if(this.$cytoscapeInstance){this.$cytoscapeInstance.startBatch();var n=this.getAllElements(),o=n;Object.keys(this.filters).forEach((function(e){o=t.filters[e](o)}));var a=o.nodes(),r=o.edges().filter((function(e){return a.contains(e.target())&&a.contains(e.source())}));return o=a.merge(r),this.$removeData=n.difference(o),this.$cytoscapeInstance.remove(this.$removeData),this.$cytoscapeInstance.add(o),this.$cytoscapeInstance.endBatch(),e&&this.reLayout(),this.$cytoscapeInstance.emit("update"),o}}},mounted:function(){this.setData(this.data)},beforeDestroy:function(){this.destroy()}},ne=te,oe=(n("b52c"),Object(O["a"])(ne,j,S,!1,null,"600d51e8",null)),ae=oe.exports,re=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("vue-legend",{attrs:{data:e.legendData,option:e.option},model:{value:e.legendModel,callback:function(t){e.legendModel=t},expression:"legendModel"}})},ce=[],ie=n("3a61"),se={name:"vcytoscapeLegend",components:{vueLegend:ie["vueLegend"]},props:{category:{type:[Object,Array],default:function(){return{}}},option:{type:Object,default:function(){return{}}},data:{type:Array,default:function(){return[]}},type:{type:String,default:"nodes"},model:{type:Object}},model:{prop:"model",event:"change"},data:function(){return{innerModel:{}}},computed:{categoryInType:function(){return this.category&&this.category[this.type]},legendModel:{get:function(){return q({},this.model||this.innerModel)},set:function(e){this.innerModel=e,this.$emit("change",e)}},legendData:function(){var e=this;return this.categorys.map((function(t){var n=e.categoryParams[t],o=n.style,a=n.formatter,r=o.backgroundColor,c=o.backgroundImage,i=o.backgroundPosition,s=o.backgroundRepeat,d=o.backgroundSize,l=o.borderColor;return Object.assign({},{activeTagStyle:{backgroundColor:r,backgroundImage:c,backgroundPosition:i,backgroundRepeat:s,backgroundSize:d,borderColor:l},tagStyle:{borderStyle:o.borderStyle},activeTextStyle:{color:o.borderColor||o.backgroundColor},formatter:a},{name:t})}))},categoryParams:function(){var e=this,t={};if(this.categoryInType)if(R(this.categoryInType))this.categoryInType.forEach((function(n,o){var a=n.name,r=n.style,c=n.formatter,i=o%Z[e.type].styles.length;t[a]=t[a]||{},t[a].style=q({},Z[e.type].styles[i],r),t[a].formatter=c}));else{var n=this.categoryInType.styles;n&&(R(n)?this.categorys.forEach((function(o,a){var r=a%n.length,c=a%Z[e.type].styles.length;t[o]=t[o]||{},t[o].style=q({},Z[e.type].styles[c],n[r])})):A(n)&&this.categorys.forEach((function(o,a){var r=a%Z[e.type].styles.length;t[o]=t[o]||{},t[o].style=q({},Z[e.type].styles[r],n[o]||{})})))}return this.getTransStyle(t)},categorys:function(){var e=this,t=Array.from(new Set((this.data||[]).filter((function(t){return t.group===e.type})).map((function(t){return e.dataByCategory(t.data)})).filter((function(e){return!!e}))));return t},categoryBy:function(){if(this.categoryInType){if(R(this.categoryInType))return this.categoryInType;if(A(this.categoryInType))return this.categoryInType.key}return null}},methods:{getTransStyle:function(e){var t="nodes"===this.type;return Object.keys(e).forEach((function(n){e[n].style={backgroundColor:e[n].style["background-color"]?K(e[n].style["background-color"],e[n].style["background-opacity"]||1):"none",backgroundImage:e[n].style["background-image"]?"url(".concat(e[n].style["background-image"],")"):"none",backgroundPosition:"center",backgroundRepeat:e[n].style["background-repeat"],backgroundSize:"".concat(e[n].style["background-width"]," ").concat(e[n].style["background-height"]),borderColor:t?e[n].style["border-color"]:e[n].style["line-color"],borderStyle:t?e[n].style["border-style"]||"not specified":e[n].style["line-style"]||"not specified"}})),e},dataByCategory:function(e){if(R(this.categoryBy)){var t=this.categoryBy.find((function(t){return t.matching&&t.matching(e)}));return t?L(t.name)?t.name(e):t.name:void 0}return e[this.categoryBy]}}},de=se,le=Object(O["a"])(de,re,ce,!1,null,null,null),ue=le.exports,ge={install:function(e,t){e.component(ae.name,ae),e.component(ue.name,ue),t.beforeCreate&&t.beforeCreate(B.a)}},pe=n("060f"),fe=n.n(pe),he=n("b0a4"),ye=n.n(he),ve=n("debc"),be=n.n(ve),me=(n("f444"),n("e0a0")),ke=n.n(me);o["a"].config.productionTip=!1,o["a"].use(ge,{beforeCreate:function(e){e.use(ye.a,be.a),e.use(ke.a),e.use(fe.a)}}),new o["a"]({render:function(e){return e(M)}}).$mount("#app")},"8d5a":function(e,t,n){var o=n("abd8");t=o(!1),t.push([e.i,".cytoscape--container[data-v-600d51e8]{text-align:left;position:relative;width:100%;height:100%;-webkit-box-sizing:border-box;box-sizing:border-box;background:#fff}.cytoscape--container .cytoscape--container__graph[data-v-600d51e8],.cytoscape--container .cytoscape--container__loading[data-v-600d51e8]{position:absolute;top:0;left:0;right:0;bottom:0}.cytoscape--container .cytoscape--container__graph .text[data-v-600d51e8],.cytoscape--container .cytoscape--container__loading .text[data-v-600d51e8]{padding:10px}",""]),e.exports=t},"9e64":function(e,t,n){var o=n("347b");"string"===typeof o&&(o=[[e.i,o,""]]),o.locals&&(e.exports=o.locals);var a=n("85cb").default;a("3cd41237",o,!0,{sourceMap:!1,shadowMode:!1})},b52c:function(e,t,n){"use strict";var o=n("c213"),a=n.n(o);a.a},bf3e:function(e,t,n){e.exports=n.p+"img/computer.5b459181.svg"},c213:function(e,t,n){var o=n("8d5a");"string"===typeof o&&(o=[[e.i,o,""]]),o.locals&&(e.exports=o.locals);var a=n("85cb").default;a("e802a702",o,!0,{sourceMap:!1,shadowMode:!1})},ea42:function(e,t,n){e.exports=n.p+"img/hospital.8a4eafbc.svg"}});
//# sourceMappingURL=app.ab0f028c.js.map