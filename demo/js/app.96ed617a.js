(function(e){function t(t){for(var o,i,c=t[0],s=t[1],d=t[2],u=0,g=[];u<c.length;u++)i=c[u],Object.prototype.hasOwnProperty.call(a,i)&&a[i]&&g.push(a[i][0]),a[i]=0;for(o in s)Object.prototype.hasOwnProperty.call(s,o)&&(e[o]=s[o]);l&&l(t);while(g.length)g.shift()();return r.push.apply(r,d||[]),n()}function n(){for(var e,t=0;t<r.length;t++){for(var n=r[t],o=!0,c=1;c<n.length;c++){var s=n[c];0!==a[s]&&(o=!1)}o&&(r.splice(t--,1),e=i(i.s=n[0]))}return e}var o={},a={app:0},r=[];function i(t){if(o[t])return o[t].exports;var n=o[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,i),n.l=!0,n.exports}i.m=e,i.c=o,i.d=function(e,t,n){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},i.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)i.d(n,o,function(t){return e[t]}.bind(null,o));return n},i.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="/vcytoscape/demo/";var c=window["webpackJsonp"]=window["webpackJsonp"]||[],s=c.push.bind(c);c.push=t,c=c.slice();for(var d=0;d<c.length;d++)t(c[d]);var l=s;r.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("56d7")},"012a":function(e,t,n){"use strict";var o=n("e44f"),a=n.n(o);a.a},"1edb":function(e,t,n){var o=n("24fb");t=o(!1),t.push([e.i,".cytoscape[data-v-62064ea2]{z-index:1}.cytoscape[data-v-62064ea2],.cytoscape--container__loading[data-v-62064ea2],.legend[data-v-62064ea2]{position:absolute;left:0;top:0;bottom:0;right:0}.cytoscape--container__loading[data-v-62064ea2]{z-index:2000;background:#fff}.cytoscape--container__loading .progress-bar[data-v-62064ea2]{top:50%;margin-top:-15px;left:20%;width:60%;text-align:center;position:absolute;overflow:hidden}.cytoscape--container__loading .progress-bar .progress-bar__outer[data-v-62064ea2]{width:100%;border-radius:100px;margin:16px 0;height:10px;background-color:#ebeef5;overflow:hidden;position:relative;vertical-align:middle}.cytoscape--container__loading .progress-bar .progress-bar__outer .progress-bar__inner[data-v-62064ea2]{position:absolute;left:0;top:0;height:100%;background-color:#409eff;text-align:right;border-radius:100px;line-height:1;white-space:nowrap}.cytoscape--container__loading .center[data-v-62064ea2]{top:50%;margin-top:-21px;width:100%;text-align:center;position:absolute}.cytoscape--container__loading .center .circular[data-v-62064ea2]{height:42px;width:42px;-webkit-animation:loading-rotate 2s linear infinite;animation:loading-rotate 2s linear infinite}.cytoscape--container__loading .center .circular .path[data-v-62064ea2]{-webkit-animation:loading-dash 1.5s ease-in-out infinite;animation:loading-dash 1.5s ease-in-out infinite;stroke-dasharray:90,150;stroke-dashoffset:0;stroke-width:2;stroke:#409eff;stroke-linecap:round}",""]),e.exports=t},"29ee":function(e,t,n){var o=n("24fb");t=o(!1),t.push([e.i,".cytoscape--container[data-v-5e8f0a8c]{text-align:left;position:relative;width:100%;height:100%;-webkit-box-sizing:border-box;box-sizing:border-box;overflow:hidden}.cytoscape--container .cytoscape--container__graph[data-v-5e8f0a8c],.cytoscape--container .cytoscape--container__loading[data-v-5e8f0a8c]{position:absolute;top:0;left:0;right:0;bottom:0}.cytoscape--container .cytoscape--container__graph .text[data-v-5e8f0a8c],.cytoscape--container .cytoscape--container__loading .text[data-v-5e8f0a8c]{padding:10px}",""]),e.exports=t},"31af":function(e,t,n){e.exports=n.p+"img/person.9cb95bf6.svg"},"4b09":function(e,t,n){e.exports=n.p+"img/clothes.2b623ebd.svg"},"56d7":function(e,t,n){"use strict";n.r(t);n("e260"),n("e6cf"),n("cca6"),n("a79d");var o=n("2b0e"),a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"cytoscape",attrs:{id:"app"}},[n("vcytoscape",{ref:"cytoscape",staticClass:"cytoscape",attrs:{option:e.option.cytoscape,category:e.option.category,data:e.graphData},on:{mouseover:e.createTippy,ready:e.cytoscapeInit}}),n("vcytoscape-legend",{staticClass:"legend",attrs:{data:e.graphData,option:e.option.nodeLegend,category:e.option.category.nodes},model:{value:e.legendNodeModel,callback:function(t){e.legendNodeModel=t},expression:"legendNodeModel"}}),n("vcytoscape-legend",{staticClass:"legend",attrs:{data:e.graphData,type:"edges",option:e.option.edgeLegend,category:e.option.category.edges},model:{value:e.legendEdgeModel,callback:function(t){e.legendEdgeModel=t},expression:"legendEdgeModel"}}),!e.option.cytoscape.layout.animate&&e.layoutProgress<1?n("div",{staticClass:"cytoscape--container__loading"},[0===e.layoutProgress?n("div",{staticClass:"center"},[n("svg",{staticClass:"circular",attrs:{viewBox:"25 25 50 50"}},[n("circle",{staticClass:"path",attrs:{cx:"50",cy:"50",r:"20",fill:"none"}})]),n("div",{staticClass:"text"},[e._v("正在解析图谱，请稍后...")])]):n("div",{staticClass:"progress-bar"},[n("div",{staticClass:"progress-bar__outer"},[n("div",{staticClass:"progress-bar__inner",style:{width:e.progressText}})]),n("div",{staticClass:"text"},[e._v("正在计算布局，请稍后 "+e._s(e.progressText))])])]):e._e()],1)},r=[],i=(n("99af"),n("4de4"),n("caad"),n("b680"),n("b64b"),n("d3b7"),n("ac1f"),n("25f0"),n("2532"),n("5319"),n("159b"),n("d81d"),n("b0c0"),n("a9e3"),["hospital","clothes","computer","person","flower","tree","desk","house","water","cup"]),c=["has","goto","love"],s=["2017","2018","2019"];function d(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:8;return(e||"")+Number(Math.random().toString().substr(3,t)+Date.now()).toString(36)}function l(e){for(var t=[],n=0;n<e;n++){var o=i[Math.floor(Math.random()*i.length)],a={id:d("node_"),group:o,parent:o};a.label=a.group+"-node"+n,t.push({group:"nodes",data:a,id:a.id})}return t}function u(e,t){for(var n=[],o=0;o<t-1;o++){var a=e[o+1].data.id,r=e[Math.floor(Math.sqrt(o))].data.id,i={target:a,source:r,id:d("edge_"),group:c[Math.floor(Math.random()*c.length)],time:s[Math.floor(Math.random()*s.length)]+"-"+Math.ceil(12*Math.random())+"-"+Math.ceil(30*Math.random())};i.label="edge"+o,i.name="edge"+o,n.push({data:i,group:"edges",id:i.id})}return n}function g(e,t){var n=e.map((function(e){return{group:"edges",data:{target:e.data.id,source:t,id:d("edge_"),group:c[Math.floor(Math.random()*c.length)],label:e.data.id+"-"+t,name:e.data.id+"-"+t}}}));return n}function p(e){var t=l(e),n=u(t,e);return t.concat(n)}function h(e,t){var n=l(t),o=g(n,e);return n.concat(o)}p(20);var f=n("ea42"),y=n.n(f),v=n("31af"),b=n.n(v),m=n("bf3e"),k=n.n(m),x=n("4b09"),C=n.n(x),_=n("d952"),w=(n("1d15"),n("b91c"),n("9cd5"),{name:"cytoscapePage",data:function(){var e=this;return{layoutProgress:0,tooltip:{},option:{nodeLegend:{show:!0,formatter:function(e){var t={hospital:"医院",clothes:"衣服",computer:"电脑",person:"个人"};return Object.keys(t).forEach((function(n){e=e.replace(n,t[n])})),e},orient:"vertical",style:{padding:"10px",top:0,left:0},tagStyle:{borderWidth:"1px",borderStyle:"solid"},inactiveTagStyle:{borderColor:"#ccc"}},edgeLegend:{show:!0,style:{padding:"10px",top:0,right:0},tagStyle:{borderRadius:0,borderWidth:0,borderTopWidth:"2px",height:"0px","line-height":"10px"},inactiveTagStyle:{borderColor:"#ccc",backgroundColor:"none"},formatter:function(e){var t={has:"拥有",love:"喜欢",goto:"去过"};return Object.keys(t).forEach((function(n){e=e.replace(n,t[n])})),e}},cytoscape:{style:[{selector:"node",style:{shape:"round-rectangle"}},{selector:"node:parent",style:{"background-opacity":0,"border-width":0}},{selector:"edge",style:{width:1,"curve-style":"bezier","target-arrow-shape":"vee"}},{selector:"node[label]",style:{label:"data(label)","font-size":"9px",color:"#666","z-index":2}},{selector:"edge[label]",style:{"font-size":"9px",color:"#626867","z-index":1}}],layout:{name:"d3-force",animate:!0,linkId:function(e){return e.id},linkDistance:100,manyBodyStrength:-300,xX:500,yY:500,ready:function(){},stop:function(t){e.layoutProgress=1},tick:function(t){e.layoutProgress=t},randomize:!1,infinite:!0}},contextMenus:{menuItems:[{id:"nextlevel",content:"查询下一级",selector:"node",onClickFunction:function(t){e.addNode(t)},disabled:!1,show:!0,hasTrailingDivider:!1}]},tooltip:{trigger:"mouseenter",content:function(e){var t=e.target;if(t&&t!==e.cy)return t.isEdge()?'<div style="text-align: left"><div>名称： '.concat(t.data("name"),"</div><div>时间： ").concat(t.data("time"),"</div></div>"):t.isNode()?'<div style="text-align: left"><div>id： '.concat(t.data("id"),"</div><div>position： ").concat(t.position("x"),", ").concat(t.position("y"),"</div><div>renderedPosition： ").concat(t.renderedPosition("x"),", ").concat(t.renderedPosition("y"),"</div><div>虚拟位置： ").concat(t.data("x"),", ").concat(t.data("y"),"</div></div>"):void 0},animation:"fade",theme:"light-border"},category:{nodes:{key:"group",styles:{hospital:{"background-image":y.a,"background-width":"80%","background-height":"80%","background-repeat":"no-repeat"},clothes:{"background-image":C.a,"background-width":"80%","background-height":"80%","background-repeat":"no-repeat"},computer:{"background-image":k.a,"background-width":"80%","background-height":"80%","background-repeat":"no-repeat"},person:{"background-image":b.a,"background-width":"80%","background-height":"80%","background-repeat":"no-repeat"}}},edges:[{name:"love",matching:function(e){return"love"===e.group},style:{"source-arrow-shape":"vee","line-style":"dashed","line-color":"#61a0a8",width:1}},{name:"goto",matching:function(e){return"goto"===e.group},style:{"line-style":"dashed","line-color":"#2f4554",width:1}},{name:"has",matching:function(e){return"has"===e.group},style:{"line-style":"dashed","line-color":"#c23531",width:1}}]}},graphData:[],legendNodeFilterId:"",legendEdgeFilterId:"",legendNodeModel:{},legendEdgeModel:{}}},computed:{progressText:function(){return(100*this.layoutProgress).toFixed(1)+"%"}},watch:{legendNodeModel:{handler:function(e){this.legendChange(e,"nodes")},deep:!0},legendEdgeModel:{handler:function(e){this.legendChange(e,"edges")},deep:!0}},methods:{legendChange:function(e,t){var n=this.$refs.cytoscape,o=Object.keys(e).filter((function(t){return!e[t]}));"nodes"===t?o.length?this.legendNodeFilterId=n.filterByFunction((function(e){return e.filter((function(e){return e.isEdge()||e.isNode()&&!o.includes(e.data("group"))}))}),this.legendNodeFilterId,!0):this.legendNodeFilterId&&n.resetFilter(this.legendNodeFilterId,!0):o.length?this.legendEdgeFilterId=n.filterByFunction((function(e){var t=e.filter((function(e){return e.isEdge()&&!o.includes(e.data("group"))}));return e.filter((function(e){return t.contains(e)||t.some((function(t){return t.source()===e||t.target()===e}))}))}),this.legendEdgeFilterId,!0):this.legendEdgeFilterId&&n.resetFilter(this.legendEdgeFilterId,!0)},cytoscapeInit:function(e){e.cy.contextMenus(this.option.contextMenus)},addNode:function(e){e.target.lock();var t=e.target.id(),n=h(t,2);this.graphData=this.graphData.concat(n),e.cy.delay(1e3,(function(){e.target.unlock()}))},createTippy:function(e){var t=this;if(this.option.tooltip){var n=e.target;if(n!==e.cy){var o="[object Function]"===Object.prototype.toString.call(this.option.tooltip.content)?this.option.tooltip.content(e):this.option.tooltip.content,a={content:o};Object.keys(this.option.tooltip).forEach((function(e){"content"!==e&&"selector"!==e&&(a[e]=t.option.tooltip[e])})),this.tooltip[n.id()]?this.tooltip[n.id()].setContent(o):this.tooltip[n.id()]=Object(_["a"])(n.popperRef(),a),setTimeout((function(){_["a"].hideAll(),t.tooltip[n.id()].show()}),10)}}}},mounted:function(){var e=this;setTimeout((function(){e.graphData=p(80)}),100)}}),O=w,I=(n("012a"),n("2877")),$=Object(I["a"])(O,a,r,!1,null,"62064ea2",null),M=$.exports,j=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"cytoscape--container"},[n("div",{ref:"cytoscapeBox",staticClass:"cytoscape--container__graph"})])},S=[],E=(n("7db0"),n("a630"),n("4fad"),n("6062"),n("3ca3"),n("ddb0"),n("96cf"),n("1da1")),N=n("3835"),B=n("44e1"),D=n.n(B),F={_cxttap:function(e){var t=e.target;this.elements().unselect(),t!==this&&this.elements(t).select()},_select:function(e){var t=e.target;if(t!==this){var n=this.elements(":selected"),o=this.collection();o=t.isNode()?n.closedNeighborhood():o.merge(n).merge(n.connectedNodes());var a=this.elements().difference(o);a.removeClass("hover").addClass("unhover"),o.removeClass("unhover").addClass("hover")}},_unselect:function(){this.elements().removeClass("unhover").removeClass("hover")}};function T(e){var t="",n=[];return["select","unselect","cxttap"].forEach((function(o){t?e.on(o,t,F["_".concat(o)]):e.on(o,F["_".concat(o)]),n.push((function(){t?e.off(o,t,F["_".concat(o)]):e.off(o,F["_".concat(o)])}))})),n}var P=T,z=(n("a15b"),n("fb6a"),n("a434"),n("e25e"),n("1276"),n("2909")),A=function(e){return"[object Object]"===Object.prototype.toString.call(e)},R=function(e){return"[object Array]"===Object.prototype.toString.call(e)},L=function(e){return"[object Function]"===Object.prototype.toString.call(e)},J=function(e){return void 0===e},W=function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"merge",n=arguments.length>1?arguments[1]:void 0,o=arguments.length>2?arguments[2]:void 0;if(A(n)&&A(o))for(var a in o)A(o[a])?(n[a]=A(n[a])?n[a]:{},n[a]=e(t,n[a],o[a])):R(o[a])?(n[a]=R(n[a])?n[a]:[],n[a]=e(t,n[a],o[a])):J(o[a])||(n[a]=o[a]);else R(n)&&R(o)&&("merge"===t?o.forEach((function(a,r){A(a)?(n[r]=A(n[r])?n[r]:{},n[r]=e(t,n[r],a)):R(a)?(n[r]=R(n[r])?n[r]:[],n[r]=e(t,n[r],a)):J(a)||(n[r]=o[r])})):"concat"===t?n=n.concat(o):"findSelector"===t?o.forEach((function(o){var a=n.find((function(e){return e.selector===o.selector}));a?a=e(t,a,o):n.push(o)})):n=o);return n},G=function e(){var t=Array.from(arguments);if(!(t.length<2))return t[1]=W.apply(void 0,Object(z["a"])(t)),t.splice(2,1),t.length>2?e.apply(void 0,Object(z["a"])(t)):2===t.length?t[1]:null},q=function(){var e=Array.from(arguments);return G.apply(void 0,["merge"].concat(Object(z["a"])(e)))},X=function(){var e=Array.from(arguments);return G.apply(void 0,["concat"].concat(Object(z["a"])(e)))},Y=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:8;return(e||"")+Number(Math.random().toString().substr(3,t)+Date.now()).toString(36)},H=/^#([0-9a-fA-f]{3}|[0-9a-fA-f]{6})$/;function K(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=(e||"").toLowerCase();if(n&&H.test(n)){if(4===n.length){for(var o="#",a=1;a<4;a+=1)o+=n.slice(a,a+1).concat(n.slice(a,a+1));n=o}for(var r=[],i=1;i<7;i+=2)r.push(parseInt("0x"+n.slice(i,i+2)));return r.push(t),"rgba("+r.join(",")+")"}if(/^(rgb|RGB)/.test(e)){var c=e.replace(/(?:\(|\)|rgba|RGBA|rgb|RGB)*/g,"").split(","),s=Object(N["a"])(c,3),d=s[0],l=s[1],u=s[2];return"rgba(".concat(d,", ").concat(l,", ").concat(u,", ").concat(t,")")}return e}var Q={"z-index":2},U={"z-index":1},V=["#c23531","#2f4554","#61a0a8","#d48265","#91c7ae","#749f83","#ca8622","#bda29a","#6e7074","#546570","#c4ccd3"],Z={nodes:{key:"category",styles:V.map((function(e){return q({},Q,{"background-color":e,"border-color":e})}))},edges:{key:"category",styles:[JSON.parse(JSON.stringify(U))]}},ee={style:[{selector:":active",style:{"overlay-opacity":0}},{selector:"node",style:JSON.parse(JSON.stringify(Q))},{selector:"edge",style:JSON.parse(JSON.stringify(U))},{selector:".hover",style:{"background-opacity":1,"background-image-opacity":1,"z-index":99}},{selector:"edge.hover",style:{width:2,"z-index":98}},{selector:".unhover",style:{opacity:.3}},{selector:"edge.unhover",style:{width:1,opacity:.3}}]},te={name:"vcytoscape",props:{option:{type:Object,default:function(){}},category:{type:Object,default:function(){}},data:{type:Array,default:function(){return[]}}},data:function(){return{$cytoscapeInstance:null,events:[],cacheRandomIdMap:{},filters:{},$layout:null,$removeData:null}},computed:{nodesCategorys:function(){var e=this,t=Array.from(new Set(this.data.filter((function(e){return"nodes"===e.group})).map((function(t){return e.dataByCategory(t.data,"nodes")})).filter((function(e){return!!e}))));return t},nodesCategoryBy:function(){if(this.category&&this.category.nodes){if(R(this.category.nodes))return this.category.nodes;if(A(this.category.nodes))return this.category.nodes.key}return null},edgesCategorys:function(){var e=this,t=Array.from(new Set(this.data.filter((function(e){return"edges"===e.group})).map((function(t){return e.dataByCategory(t.data,"edges")})).filter((function(e){return!!e}))));return t},edgesCategoryBy:function(){if(this.category&&this.category.edges){if(R(this.category.edges))return this.category.edges;if(A(this.category.edges))return this.category.edges.key}return null},categoryNameToClass:function(){var e=this,t={};return this.nodesCategorys.forEach((function(n){t[n]=e.getCacheRandomId(n,"node_class_")})),this.edgesCategorys.forEach((function(n){t[n]=e.getCacheRandomId(n,"edge_class_")})),t},styles:function(){var e=this,t=[];return this.category&&Object.keys(this.category).forEach((function(n){var o=e.category[n],a=Z[n].styles,r=e["".concat(n,"Categorys")];if(R(o))t=t.concat(o.map((function(t,n){var o=t.name,r=t.style,i=n%a.length;return{selector:".".concat(e.categoryNameToClass[o]),style:q({},a[i],r)}})));else{var i=o.styles||[];i&&(R(i)?t=t.concat(r.map((function(t,n){var o=n%i.length,r=n%a.length;return{selector:".".concat(e.categoryNameToClass[t]),style:q({},a[r],i[o])}}))):A(i)&&(t=t.concat(r.map((function(t,n){var o=n%a.length;return{selector:".".concat(e.categoryNameToClass[t]),style:q({},a[o],i[t]||{})}})))))}})),t},cytoscapeOptions:function(){var e=X({},ee,{style:this.styles},this.option||{});return e}},watch:{data:{handler:function(e){this.setData(e)},deep:!0},cytoscapeOptions:{handler:function(e){this.$cytoscapeInstance&&this.setOptions(e)},deep:!0}},methods:{getCacheRandomId:function(e,t,n){return this.cacheRandomIdMap[e]=this.cacheRandomIdMap[e]||Y(t,n),this.cacheRandomIdMap[e]},dataByCategory:function(e,t){if(R(this["".concat(t,"CategoryBy")])){var n=this["".concat(t,"CategoryBy")].find((function(t){return t.matching&&t.matching(e)}));return n?L(n.name)?n.name(e):n.name:void 0}return e[this["".concat(t,"CategoryBy")]]},getDataWithClasses:function(e){var t=this,n=JSON.parse(JSON.stringify(e||[]));return n.map((function(e){var n=t.dataByCategory(e.data,e.group);return e.classes=e.classes||[],e.classes.push(t.categoryNameToClass[n]),e}))},getAllElements:function(){return this.$cytoscapeInstance&&this.$cytoscapeInstance.elements().merge(this.$removeData||this.$cytoscapeInstance.collection())},setOptions:function(e){var t=this;this.$cytoscapeInstance&&(this.$cytoscapeInstance.startBatch(),Object.keys(e).forEach((function(n){return t.$cytoscapeInstance[n]&&t.$cytoscapeInstance[n](e[n])})),this.$cytoscapeInstance.endBatch(),this.reLayout())},setData:function(e){var t=this.getDataWithClasses(e);if(!this.$cytoscapeInstance)return this.createCytoscape(t);this.$cytoscapeInstance.startBatch();var n=this.getAllElements(),o=n.filter((function(e){return!t.some((function(t){return e.id()===t.data.id}))}));this.$cytoscapeInstance.remove(o);var a=[];t.forEach((function(e){var t=n.$id(e.data.id);t&&t.length?t.isNode():a.push(e)})),this.$cytoscapeInstance.add(a),this.$cytoscapeInstance.endBatch(),this.renderFilter(),this.reLayout()},createCytoscape:function(e){var t=this,n=q({},this.cytoscapeOptions,{container:this.$refs.cytoscapeBox,elements:e||[]});delete n.layout,this.$cytoscapeInstance=D()(n),this.events=this.events.concat(P(this.$cytoscapeInstance));for(var o=function(){var e=Object(N["a"])(r[a],2),n=e[0],o=e[1],i=function(e){o(e)};t.$cytoscapeInstance.on(n,i),t.events.push((function(){t.$cytoscapeInstance.off(n,i)}))},a=0,r=Object.entries(this.$listeners);a<r.length;a++)o();this.$cytoscapeInstance.ready(),e&&e.length&&this.reLayout()},reLayout:function(){this.$layout&&this.$layout.stop(),this.$layout=this.$cytoscapeInstance.layout(this.cytoscapeOptions.layout),this.$layout.run()},destroy:function(){var e=Object(E["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(this.$layout&&this.$layout.stop(),!this.$cytoscapeInstance){e.next=7;break}return e.next=4,this.events.forEach((function(e){e()}));case 4:return this.events=[],e.next=7,this.$cytoscapeInstance.destroy();case 7:this.filters={},this.$removeData=null;case 9:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),resetFilter:function(e,t){e?delete this.filters[e]:this.filters={},this.renderFilter(t)},filterByFunction:function(e,t,n){var o=t||Y("func");return this.filters[o]=e,this.renderFilter(n),o},renderFilter:function(e){var t=this;if(this.$cytoscapeInstance){this.$cytoscapeInstance.startBatch();var n=this.getAllElements(),o=n;Object.keys(this.filters).forEach((function(e){o=t.filters[e](o)}));var a=o.nodes(),r=o.edges().filter((function(e){return a.contains(e.target())&&a.contains(e.source())}));return o=a.merge(r),this.$removeData=n.difference(o),this.$cytoscapeInstance.remove(this.$removeData),this.$cytoscapeInstance.add(o),this.$cytoscapeInstance.endBatch(),e&&this.reLayout(),this.$cytoscapeInstance.emit("update"),o}}},mounted:function(){this.setData(this.data)},beforeDestroy:function(){this.destroy()}},ne=te,oe=(n("9b15"),Object(I["a"])(ne,j,S,!1,null,"5e8f0a8c",null)),ae=oe.exports,re=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[e.legendData&&e.legendData.length?n("vue-legend",{attrs:{data:e.legendData,option:e.option},model:{value:e.legendModel,callback:function(t){e.legendModel=t},expression:"legendModel"}}):e._e()],1)},ie=[],ce=n("1e80"),se={name:"vcytoscapeLegend",components:{vueLegend:ce["vueLegend"]},props:{category:{type:[Object,Array],default:function(){return{}}},option:{type:Object,default:function(){return{}}},data:{type:Array,default:function(){return[]}},type:{type:String,default:"nodes"},model:{type:Object}},model:{prop:"model",event:"change"},data:function(){return{innerModel:{}}},computed:{legendModel:{get:function(){return q({},this.model||this.innerModel)},set:function(e){this.innerModel=e,this.$emit("change",e)}},legendData:function(){var e=this;return this.categorys.map((function(t){var n=e.categoryParams[t],o=n.style,a=n.formatter,r=o.backgroundColor,i=o.backgroundImage,c=o.backgroundPosition,s=o.backgroundRepeat,d=o.backgroundSize,l=o.borderColor;return Object.assign({},{activeTagStyle:{backgroundColor:r,backgroundImage:i,backgroundPosition:c,backgroundRepeat:s,backgroundSize:d,borderColor:l},tagStyle:{borderStyle:o.borderStyle},activeTextStyle:{color:o.borderColor||o.backgroundColor},formatter:a},{name:t})}))},categoryParams:function(){var e=this,t={};if(this.category)if(R(this.category))this.category.forEach((function(n,o){var a=n.name,r=n.style,i=n.formatter,c=o%Z[e.type].styles.length;t[a]=t[a]||{},t[a].style=q({},Z[e.type].styles[c],r),t[a].formatter=i}));else{var n=this.category.styles;n&&(R(n)?this.categorys.forEach((function(o,a){var r=a%n.length,i=a%Z[e.type].styles.length;t[o]=t[o]||{},t[o].style=q({},Z[e.type].styles[i],n[r])})):A(n)&&this.categorys.forEach((function(o,a){var r=a%Z[e.type].styles.length;t[o]=t[o]||{},t[o].style=q({},Z[e.type].styles[r],n[o]||{})})))}return this.getTransStyle(t)},categorys:function(){var e=this,t=Array.from(new Set((this.data||[]).filter((function(t){return t.group===e.type})).map((function(t){return e.dataByCategory(t.data)})).filter((function(e){return!!e}))));return t},categoryBy:function(){if(this.category){if(R(this.category))return this.category;if(A(this.category))return this.category.key}return null}},methods:{getTransStyle:function(e){var t="nodes"===this.type;return Object.keys(e).forEach((function(n){e[n].style={backgroundColor:e[n].style["background-color"]?K(e[n].style["background-color"],e[n].style["background-opacity"]||1):"none",backgroundImage:e[n].style["background-image"]?"url(".concat(e[n].style["background-image"],")"):"none",backgroundPosition:"center",backgroundRepeat:e[n].style["background-repeat"],backgroundSize:"".concat(e[n].style["background-width"]," ").concat(e[n].style["background-height"]),borderColor:t?e[n].style["border-color"]:e[n].style["line-color"],borderStyle:t?e[n].style["border-style"]||"not specified":e[n].style["line-style"]||"not specified"}})),e},dataByCategory:function(e){if(R(this.categoryBy)){var t=this.categoryBy.find((function(t){return t.matching&&t.matching(e)}));return t?L(t.name)?t.name(e):t.name:void 0}return e[this.categoryBy]}}},de=se,le=Object(I["a"])(de,re,ie,!1,null,null,null),ue=le.exports,ge={install:function(e,t){e.component(ae.name,ae),e.component(ue.name,ue),t.beforeCreate&&t.beforeCreate(D.a)}},pe=n("b66a"),he=n.n(pe),fe=n("1776"),ye=n.n(fe),ve=n("1157"),be=n.n(ve),me=(n("ab89"),n("fe22")),ke=n.n(me);o["a"].config.productionTip=!1,o["a"].use(ge,{beforeCreate:function(e){e.use(ye.a,be.a),e.use(ke.a),e.use(he.a)}}),new o["a"]({render:function(e){return e(M)}}).$mount("#app")},"9b15":function(e,t,n){"use strict";var o=n("fa8c"),a=n.n(o);a.a},bf3e:function(e,t,n){e.exports=n.p+"img/computer.5b459181.svg"},e44f:function(e,t,n){var o=n("1edb");"string"===typeof o&&(o=[[e.i,o,""]]),o.locals&&(e.exports=o.locals);var a=n("499e").default;a("d5b3459a",o,!0,{sourceMap:!1,shadowMode:!1})},ea42:function(e,t,n){e.exports=n.p+"img/hospital.8a4eafbc.svg"},fa8c:function(e,t,n){var o=n("29ee");"string"===typeof o&&(o=[[e.i,o,""]]),o.locals&&(e.exports=o.locals);var a=n("499e").default;a("2f8740aa",o,!0,{sourceMap:!1,shadowMode:!1})}});
//# sourceMappingURL=app.96ed617a.js.map